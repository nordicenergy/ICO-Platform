function open_widget(n,t){t.preventDefault();var i=n.href;return window.open(i,"Changelly","width=600,height=470,toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=0,left=0,top=0"),!1}function copyToClipboard(n){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=n;t.style.position="fixed";document.body.appendChild(t);t.select();try{return document.execCommand("copy")}catch(i){return console.warn("Copy to clipboard failed.",i),!1}finally{document.body.removeChild(t)}}}function Model(){var n=this;n.withdrawModal=function(){var n={},t=n.states={notSubmited:0,submited:1,inProgress:2,done:3,failed:4};return n.state=ko.observable(data.withdrawalState),n.icoFinished=ko.observable(data.icoFinished),n.address=ko.observable(),n.amount=data.earnedTokens,n.tokenName=data.tokenName,n.withdrawalText=ko.computed(function(){return n.state()==t.notSubmited||n.state()==t.failed?"Withdraw":n.state()<t.done?"Withdrawing...":n.state()==t.done?"Withdrew":void 0}),n.visible=ko.observable(!1),n.withdrawing=ko.computed(function(){return n.state()>t.notSubmited&&n.state()<=t.done}),n.show=function(){if(n.icoFinished()){if(n.state()==t.notSubmited){n.visible(!0);return}n.UpdateWithdrawalInfo().done(function(){n.visible(!0)})}},n.UpdateWithdrawalInfo=function(){return $.getJSON("/Dashboard/GetWithdrawalInfo").done(function(t){n.state(t.state);n.address(t.address)})},n.inProgress=ko.observable(!1),n.submit=function(i){$(i).valid()&&(n.inProgress(!0),$.post("/Dashboard/SubmitWithdrawal",{address:n.address()}).done(function(){n.state(t.submited)}).always(function(){n.inProgress(!1)}))},n}(n)}var model=new Model;ko.applyBindings(model);